<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "6e562d7e5a77c8982da4aa8f762ad1d8",
  "translation_date": "2025-07-14T02:57:31+00:00",
  "source_file": "05-AdvancedTopics/mcp-security-entra/README.md",
  "language_code": "ne"
}
-->
# AI рдХрд╛рд░реНрдпрдкреНрд░рд╡рд╛рд╣рд╣рд░реВ рд╕реБрд░рдХреНрд╖рд┐рдд рдЧрд░реНрдиреЗ: рдореЛрдбреЗрд▓ рдХрдиреНрдЯреЗрдХреНрд╕реНрдЯ рдкреНрд░реЛрдЯреЛрдХрд▓ рд╕рд░реНрднрд░рд╣рд░реВрдХрд╛ рд▓рд╛рдЧрд┐ Entra ID рдкреНрд░рдорд╛рдгреАрдХрд░рдг

## рдкрд░рд┐рдЪрдп  
рддрдкрд╛рдИрдВрдХреЛ рдореЛрдбреЗрд▓ рдХрдиреНрдЯреЗрдХреНрд╕реНрдЯ рдкреНрд░реЛрдЯреЛрдХрд▓ (MCP) рд╕рд░реНрднрд░рд▓рд╛рдИ рд╕реБрд░рдХреНрд╖рд┐рдд рдЧрд░реНрдиреБ рддрдкрд╛рдИрдВрдХреЛ рдШрд░рдХреЛ рдореБрдЦреНрдп рдвреЛрдХрд╛ рд▓рдХ рд▓рдЧрд╛рдЙрдиреБ рдЬрддреНрддрд┐рдХреИ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЫред рдпрджрд┐ рддрдкрд╛рдИрдВрдХреЛ MCP рд╕рд░реНрднрд░ рдЦреБрд▓рд╛ рдЫ рднрдиреЗ, рддрдкрд╛рдИрдВрдХрд╛ рдЙрдкрдХрд░рдг рд░ рдбрд╛рдЯрд╛ рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдБрдЪрдорд╛ рдкрд░реНрди рд╕рдХреНрдЫрдиреН, рдЬрд╕рд▓реЗ рд╕реБрд░рдХреНрд╖рд╛ рдЙрд▓реНрд▓рдЩреНрдШрди рдирд┐рдореНрддреНрдпрд╛рдЙрди рд╕рдХреНрдЫред Microsoft Entra ID рдПрдХ рдмрд▓рд┐рдпреЛ рдХреНрд▓рд╛рдЙрдб-рдЖрдзрд╛рд░рд┐рдд рдкрд╣рд┐рдЪрд╛рди рд░ рдкрд╣реБрдБрдЪ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рд╕рдорд╛рдзрд╛рди рд╣реЛ, рдЬрд╕рд▓реЗ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрдЫ рдХрд┐ рдХреЗрд╡рд▓ рдЕрдзрд┐рдХреГрдд рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧрд╣рд░реВ рдорд╛рддреНрд░ рддрдкрд╛рдИрдВрдХреЛ MCP рд╕рд░реНрднрд░рд╕рдБрдЧ рдЕрдиреНрддрд░рдХреНрд░рд┐рдпрд╛ рдЧрд░реНрди рд╕рдХреНрдЫрдиреНред рдпрд╕ рдЦрдгреНрдбрдорд╛, рддрдкрд╛рдИрдВрд▓реЗ Entra ID рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЖрдлреНрдиреЛ AI рдХрд╛рд░реНрдпрдкреНрд░рд╡рд╛рд╣рд╣рд░реВ рдХрд╕рд░реА рд╕реБрд░рдХреНрд╖рд┐рдд рдЧрд░реНрдиреЗ рд╕рд┐рдХреНрдиреБрд╣реБрдиреЗрдЫред

## рд╕рд┐рдХрд╛рдЗрдХрд╛ рдЙрджреНрджреЗрд╢реНрдпрд╣рд░реВ  
рдпрд╕ рдЦрдгреНрдбрдХреЛ рдЕрдиреНрддреНрдпрд╕рдореНрдо, рддрдкрд╛рдИрдВ рд╕рдХреНрд╖рдо рд╣реБрдиреБрд╣реБрдиреЗрдЫ:

- MCP рд╕рд░реНрднрд░рд╣рд░реВ рд╕реБрд░рдХреНрд╖рд┐рдд рдЧрд░реНрдиреЗ рдорд╣рддреНрддреНрд╡ рдмреБрдЭреНрдиред
- Microsoft Entra ID рд░ OAuth 2.0 рдкреНрд░рдорд╛рдгреАрдХрд░рдгрдХрд╛ рдЖрдзрд╛рд░рднреВрдд рдХреБрд░рд╛ рд╡реНрдпрд╛рдЦреНрдпрд╛ рдЧрд░реНрдиред
- рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд░ рдЧреЛрдкреНрдп рдХреНрд▓рд╛рдЗрдиреНрдЯрдмреАрдЪрдХреЛ рднрд┐рдиреНрдирддрд╛ рдЪрд┐рдиреНрд╣рд┐рдд рдЧрд░реНрдиред
- рд╕реНрдерд╛рдиреАрдп (рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд▓рд╛рдЗрдиреНрдЯ) рд░ рд░рд┐рдореЛрдЯ (рдЧреЛрдкреНрдп рдХреНрд▓рд╛рдЗрдиреНрдЯ) MCP рд╕рд░реНрднрд░ рдкрд░рд┐рджреГрд╢реНрдпрд╣рд░реВрдорд╛ Entra ID рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд▓рд╛рдЧреВ рдЧрд░реНрдиред
- AI рдХрд╛рд░реНрдпрдкреНрд░рд╡рд╛рд╣ рд╡рд┐рдХрд╛рд╕ рдЧрд░реНрджрд╛ рд╕реБрд░рдХреНрд╖рд╛ рд╕рд░реНрд╡реЛрддреНрддрдо рдЕрднреНрдпрд╛рд╕рд╣рд░реВ рдЕрдкрдирд╛рдЙрдиред

## рд╕реБрд░рдХреНрд╖рд╛ рд░ MCP

рдЬрд╕рд░реА рддрдкрд╛рдИрдВ рдЖрдлреНрдиреЛ рдШрд░рдХреЛ рдореБрдЦреНрдп рдвреЛрдХрд╛ рдЕрдирд▓рдХ рдЫреЛрдбреНрдиреБ рд╣реБрдиреНрди, рддреНрдпрд╕реИрдЧрд░реА рддрдкрд╛рдИрдВрд▓реЗ рдЖрдлреНрдиреЛ MCP рд╕рд░реНрднрд░рд▓рд╛рдИ рд╕рдмреИрдХрд╛ рд▓рд╛рдЧрд┐ рдЦреБрд▓рд╛ рд░рд╛рдЦреНрдиреБ рд╣реБрдБрджреИрдиред рддрдкрд╛рдИрдВрдХрд╛ AI рдХрд╛рд░реНрдпрдкреНрд░рд╡рд╛рд╣рд╣рд░реВрд▓рд╛рдИ рд╕реБрд░рдХреНрд╖рд┐рдд рдмрдирд╛рдЙрдиреБ рдмрд▓рд┐рдпреЛ, рднрд░рдкрд░реНрджреЛ рд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдЕрдиреБрдкреНрд░рдпреЛрдЧрд╣рд░реВ рдирд┐рд░реНрдорд╛рдг рдЧрд░реНрди рдЕрддреНрдпрд╛рд╡рд╢реНрдпрдХ рдЫред рдпрд╕ рдЕрдзреНрдпрд╛рдпрд▓реЗ рддрдкрд╛рдИрдВрд▓рд╛рдИ Microsoft Entra ID рдкреНрд░рдпреЛрдЧ рдЧрд░реА рддрдкрд╛рдИрдВрдХрд╛ MCP рд╕рд░реНрднрд░рд╣рд░реВ рдХрд╕рд░реА рд╕реБрд░рдХреНрд╖рд┐рдд рдЧрд░реНрдиреЗ рднрдиреЗрд░ рдкрд░рд┐рдЪрдп рдЧрд░рд╛рдЙрдиреЗрдЫ, рдЬрд╕рд▓реЗ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрдЫ рдХрд┐ рдХреЗрд╡рд▓ рдЕрдзрд┐рдХреГрдд рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧрд╣рд░реВ рдорд╛рддреНрд░ рддрдкрд╛рдИрдВрдХрд╛ рдЙрдкрдХрд░рдг рд░ рдбрд╛рдЯрд╛рд╕рдБрдЧ рдЕрдиреНрддрд░рдХреНрд░рд┐рдпрд╛ рдЧрд░реНрди рд╕рдХреНрдЫрдиреНред

## MCP рд╕рд░реНрднрд░рд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рд╕реБрд░рдХреНрд╖рд╛ рдХрд┐рди рдЖрд╡рд╢реНрдпрдХ рдЫ

рдХрд▓реНрдкрдирд╛ рдЧрд░реНрдиреБрд╣реЛрд╕реН рддрдкрд╛рдИрдВрдХреЛ MCP рд╕рд░реНрднрд░рдорд╛ рдПрдЙрдЯрд╛ рдЙрдкрдХрд░рдг рдЫ рдЬрд╕рд▓реЗ рдЗрдореЗрд▓ рдкрдард╛рдЙрди рд╡рд╛ рдЧреНрд░рд╛рд╣рдХ рдбрд╛рдЯрд╛рдмреЗрд╕ рдкрд╣реБрдБрдЪ рдЧрд░реНрди рд╕рдХреНрдЫред рдпрджрд┐ рд╕рд░реНрднрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдЫреИрди рднрдиреЗ, рдХреБрдиреИ рдкрдирд┐ рд╡реНрдпрдХреНрддрд┐рд▓реЗ рддреНрдпреЛ рдЙрдкрдХрд░рдг рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рд╕рдХреНрдЫ, рдЬрд╕рд▓реЗ рдЕрдирдзрд┐рдХреГрдд рдбрд╛рдЯрд╛ рдкрд╣реБрдБрдЪ, рд╕реНрдкреНрдпрд╛рдо рд╡рд╛ рдЕрдиреНрдп рджреБрд╖реНрдЯ рдЧрддрд┐рд╡рд┐рдзрд┐рд╣рд░реВ рдирд┐рдореНрддреНрдпрд╛рдЙрди рд╕рдХреНрдЫред

рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд▓рд╛рдЧреВ рдЧрд░реЗрд░, рддрдкрд╛рдИрдВ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрдиреБрд╣реБрдиреНрдЫ рдХрд┐ рд╕рд░реНрднрд░рдорд╛ рдЖрдЙрдиреЗ рдкреНрд░рддреНрдпреЗрдХ рдЕрдиреБрд░реЛрдз рдкреНрд░рдорд╛рдгрд┐рдд рд╣реБрдиреНрдЫ, рдЬрд╕рд▓реЗ рдЕрдиреБрд░реЛрдз рдЧрд░реНрдиреЗ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рд╡рд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧрдХреЛ рдкрд╣рд┐рдЪрд╛рди рдкреБрд╖реНрдЯрд┐ рдЧрд░реНрдЫред рдпреЛ рддрдкрд╛рдИрдВрдХрд╛ AI рдХрд╛рд░реНрдпрдкреНрд░рд╡рд╛рд╣рд╣рд░реВ рд╕реБрд░рдХреНрд╖рд┐рдд рдЧрд░реНрдиреЗ рдкрд╣рд┐рд▓реЛ рд░ рд╕рдмреИрднрдиреНрджрд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХрджрдо рд╣реЛред

## Microsoft Entra ID рдкрд░рд┐рдЪрдп

[**Microsoft Entra ID**](https://adoption.microsoft.com/microsoft-security/entra/) рдПрдХ рдХреНрд▓рд╛рдЙрдб-рдЖрдзрд╛рд░рд┐рдд рдкрд╣рд┐рдЪрд╛рди рд░ рдкрд╣реБрдБрдЪ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рд╕реЗрд╡рд╛ рд╣реЛред рдпрд╕рд▓рд╛рдИ рддрдкрд╛рдИрдВрдХрд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рдПрдХ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рд╕реБрд░рдХреНрд╖рд╛ рдЧрд╛рд░реНрдбрдХреЛ рд░реВрдкрдорд╛ рд╕реЛрдЪреНрди рд╕рдХрд┐рдиреНрдЫред рдпреЛ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╣рд┐рдЪрд╛рдирд╣рд░реВ (рдкреНрд░рдорд╛рдгреАрдХрд░рдг) рдЬрд╛рдБрдЪреНрдиреЗ рд░ рдЙрдиреАрд╣рд░реВрд▓реЗ рдХреЗ рдЧрд░реНрди рдкрд╛рдЙрдБрдЫрдиреН (рдЕрдзрд┐рдХрд╛рд░ рдирд┐рд░реНрдзрд╛рд░рдг) рднрдиреНрдиреЗ рдЬрдЯрд┐рд▓ рдкреНрд░рдХреНрд░рд┐рдпрд╛рд▓рд╛рдИ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдЧрд░реНрдЫред

Entra ID рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рддрдкрд╛рдИрдВрд▓реЗ:

- рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд╣рд░реВрдХрд╛ рд▓рд╛рдЧрд┐ рд╕реБрд░рдХреНрд╖рд┐рдд рд╕рд╛рдЗрди-рдЗрди рд╕рдХреНрд╖рдо рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред
- API рд░ рд╕реЗрд╡рд╛рд╣рд░реВрд▓рд╛рдИ рд╕реБрд░рдХреНрд╖рд╛ рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред
- рдкрд╣реБрдБрдЪ рдиреАрддрд┐рд╣рд░реВрд▓рд╛рдИ рдХреЗрдиреНрджреНрд░реАрдп рд╕реНрдерд╛рдирдмрд╛рдЯ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

MCP рд╕рд░реНрднрд░рд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐, Entra ID рд▓реЗ рдПрдХ рдмрд▓рд┐рдпреЛ рд░ рд╡реНрдпрд╛рдкрдХ рд░реВрдкрдорд╛ рд╡рд┐рд╢реНрд╡рд╛рд╕ рдЧрд░рд┐рдПрдХреЛ рд╕рдорд╛рдзрд╛рди рдкреНрд░рджрд╛рди рдЧрд░реНрдЫ рдЬрд╕рд▓реЗ рдХреЛ рд╕рд░реНрднрд░рдХреЛ рдХреНрд╖рдорддрд╛ рдкрд╣реБрдБрдЪ рдЧрд░реНрди рд╕рдХреНрдЫ рднрдиреЗрд░ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдЧрд░реНрдЫред

---

## рдЬрд╛рджреВ рдмреБрдЭреНрди: Entra ID рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд╕рд░реА рдХрд╛рдо рдЧрд░реНрдЫ

Entra ID рд▓реЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдгрдХрд╛ рд▓рд╛рдЧрд┐ **OAuth 2.0** рдЬрд╕реНрддрд╛ рдЦреБрд▓рд╛ рдорд╛рдкрджрдгреНрдбрд╣рд░реВ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдЫред рд╡рд┐рд╡рд░рдгрд╣рд░реВ рдЬрдЯрд┐рд▓ рд╣реБрди рд╕рдХреНрдЫрдиреН, рддрд░ рдореБрдЦреНрдп рдЕрд╡рдзрд╛рд░рдгрд╛ рд╕рд░рд▓ рдЫ рд░ рдПрдЙрдЯрд╛ рдЙрдкрдорд╛ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдмреБрдЭреНрди рд╕рдХрд┐рдиреНрдЫред

### OAuth 2.0 рдХреЛ рд╕рд░рд▓ рдкрд░рд┐рдЪрдп: рднреНрдпрд╛рд▓реЗрдЯ рдХреБрдЮреНрдЬреА

OAuth 2.0 рд▓рд╛рдИ рддрдкрд╛рдИрдВрдХреЛ рдХрд╛рд░рдХреЛ рд▓рд╛рдЧрд┐ рднреНрдпрд╛рд▓реЗрдЯ рд╕реЗрд╡рд╛ рдЬрд╕реНрддреИ рд╕реЛрдЪреНрдиреБрд╣реЛрд╕реНред рдЬрдм рддрдкрд╛рдИрдВ рд░реЗрд╕реНрдЯреБрд░реЗрдиреНрдЯ рдкреБрдЧреНрдиреБрд╣реБрдиреНрдЫ, рддрдкрд╛рдИрдВрд▓реЗ рднреНрдпрд╛рд▓реЗрдЯрд▓рд╛рдИ рдЖрдлреНрдиреЛ рдореБрдЦреНрдп рдХреБрдЮреНрдЬреА рджрд┐рдиреБрд╣реБрдиреНрдиред рдпрд╕рдХреЛ рд╕рдЯреНрдЯрд╛, рддрдкрд╛рдИрдВрд▓реЗ рдПрдЙрдЯрд╛ **рднреНрдпрд╛рд▓реЗрдЯ рдХреБрдЮреНрдЬреА** рджрд┐рдиреБрд╣реБрдиреНрдЫ рдЬрд╕рдорд╛ рд╕реАрдорд┐рдд рдЕрдиреБрдорддрд┐ рд╣реБрдиреНрдЫтАФрдпреЛ рдХрд╛рд░ рд╕реНрдЯрд╛рд░реНрдЯ рдЧрд░реНрди рд░ рдвреЛрдХрд╛ рд▓рдХ рдЧрд░реНрди рд╕рдХреНрдЫ, рддрд░ рдЯреНрд░рдВрдХ рд╡рд╛ рдЧреНрд▓реЛрдн рдХрдореНрдкрд╛рд░реНрдЯрдореЗрдиреНрдЯ рдЦреЛрд▓реНрди рд╕рдХреНрджреИрдиред

рдпрд╕ рдЙрдкрдорд╛рдорд╛:

- **рддрдкрд╛рдИрдВ** рд╣реБрдиреБрд╣реБрдиреНрдЫ **рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛**ред
- **рддрдкрд╛рдИрдВрдХреЛ рдХрд╛рд░** рд╣реЛ **MCP рд╕рд░реНрднрд░** рдЬрд╕рдорд╛ рдореВрд▓реНрдпрд╡рд╛рди рдЙрдкрдХрд░рдг рд░ рдбрд╛рдЯрд╛ рдЫрдиреНред
- **рднреНрдпрд╛рд▓реЗрдЯ** рд╣реЛ **Microsoft Entra ID**ред
- **рдкрд╛рд░реНрдХрд┐рдЩреНрдЧ рдЕрдЯреЗрдиреНрдбреЗрдиреНрдЯ** рд╣реЛ **MCP рдХреНрд▓рд╛рдЗрдиреНрдЯ** (рд╕рд░реНрднрд░ рдкрд╣реБрдБрдЪ рдЧрд░реНрди рдЦреЛрдЬреНрдиреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧ)ред
- **рднреНрдпрд╛рд▓реЗрдЯ рдХреБрдЮреНрдЬреА** рд╣реЛ **Access Token**ред

Access token рдПрдЙрдЯрд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рдкрд╛рда рд╕реНрдЯреНрд░рд┐рдЩ рд╣реЛ рдЬреБрди MCP рдХреНрд▓рд╛рдЗрдиреНрдЯрд▓реЗ рддрдкрд╛рдИрдВ рд╕рд╛рдЗрди рдЗрди рдЧрд░реЗрдкрдЫрд┐ Entra ID рдмрд╛рдЯ рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрдЫред рдХреНрд▓рд╛рдЗрдиреНрдЯрд▓реЗ рдпреЛ рдЯреЛрдХрди рдкреНрд░рддреНрдпреЗрдХ рдЕрдиреБрд░реЛрдзрдорд╛ MCP рд╕рд░реНрднрд░рд▓рд╛рдИ рджреЗрдЦрд╛рдЙрдБрдЫред рд╕рд░реНрднрд░рд▓реЗ рдЯреЛрдХрди рдкреНрд░рдорд╛рдгрд┐рдд рдЧрд░реЗрд░ рдЕрдиреБрд░реЛрдз рд╡реИрдз рдЫ рд░ рдХреНрд▓рд╛рдЗрдиреНрдЯрд╕рдБрдЧ рдЖрд╡рд╢реНрдпрдХ рдЕрдиреБрдорддрд┐ рдЫ рднрдиреА рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрдЫ, рддрдкрд╛рдИрдВрдХреЛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдкреНрд░рдорд╛рдгрдкрддреНрд░ (рдЬрд╕реНрддреИ рдкрд╛рд╕рд╡рд░реНрдб) рдХрд╣рд┐рд▓реНрдпреИ рд╕рдореНрд╣рд╛рд▓реНрдиреБ рдирдкрд░реНрдиреЗ рдЧрд░реАред

### рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛

рдпрд╕рд░реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╡реНрдпрд╡рд╣рд╛рд░рдорд╛ рдХрд╛рдо рдЧрд░реНрдЫ:

```mermaid
sequenceDiagram
    actor User as ЁЯСд User
    participant Client as ЁЯЦея╕П MCP Client
    participant Entra as ЁЯФР Microsoft Entra ID
    participant Server as ЁЯФз MCP Server

    Client->>+User: Please sign in to continue.
    User->>+Entra: Enters credentials (username/password).
    Entra-->>Client: Here is your access token.
    User-->>-Client: (Returns to the application)

    Client->>+Server: I need to use a tool. Here is my access token.
    Server->>+Entra: Is this access token valid?
    Entra-->>-Server: Yes, it is.
    Server-->>-Client: Token is valid. Here is the result of the tool.
```

### Microsoft Authentication Library (MSAL) рдкрд░рд┐рдЪрдп

рдХреЛрдбрдорд╛ рдкреНрд░рд╡реЗрд╢ рдЧрд░реНрдиреБ рдЕрдШрд┐, рдПрдЙрдЯрд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХрдореНрдкреЛрдиреЗрдиреНрдЯ рдкрд░рд┐рдЪрдп рдЧрд░рд╛рдЙрди рдЖрд╡рд╢реНрдпрдХ рдЫ: **Microsoft Authentication Library (MSAL)**ред

MSAL рдорд╛рдЗрдХреНрд░реЛрд╕рдлреНрдЯрд▓реЗ рд╡рд┐рдХрд╛рд╕ рдЧрд░реЗрдХреЛ рдПрдЙрдЯрд╛ рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╣реЛ рдЬрд╕рд▓реЗ рд╡рд┐рдХрд╛рд╕рдХрд░реНрддрд╛рд╣рд░реВрд▓рд╛рдИ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдЬрд┐рд▓реЛ рдмрдирд╛рдЙрдБрдЫред рддрдкрд╛рдИрдВрд▓реЗ рд╕реБрд░рдХреНрд╖рд╛ рдЯреЛрдХрдирд╣рд░реВ рд╕рдореНрд╣рд╛рд▓реНрди, рд╕рд╛рдЗрди-рдЗрди рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдЧрд░реНрди рд░ рд╕реЗрд╕рди рд░рд┐рдлреНрд░реЗрд╕ рдЧрд░реНрди рдЬрдЯрд┐рд▓ рдХреЛрдб рд▓реЗрдЦреНрдиреБ рдирдкрд░реНрдиреЗ рдЧрд░реА MSAL рд▓реЗ рд╕рдмреИ рднрд╛рд░реА рдХрд╛рдо рдЧрд░реНрдЫред

MSAL рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рд╕рд┐рдлрд╛рд░рд┐рд╕ рдЧрд░рд┐рдиреНрдЫ рдХрд┐рдирднрдиреЗ:

- **рдпреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рдЫ:** рдпрд╕рд▓реЗ рдЙрджреНрдпреЛрдЧ-рдорд╛рдирдХ рдкреНрд░реЛрдЯреЛрдХрд▓ рд░ рд╕реБрд░рдХреНрд╖рд╛ рд╕рд░реНрд╡реЛрддреНрддрдо рдЕрднреНрдпрд╛рд╕рд╣рд░реВ рд▓рд╛рдЧреВ рдЧрд░реНрдЫ, рдЬрд╕рд▓реЗ рддрдкрд╛рдИрдВрдХреЛ рдХреЛрдбрдорд╛ рдХрдордЬреЛрд░реАрд╣рд░реВ рдХрдо рдЧрд░реНрдЫред
- **рдпреЛ рд╡рд┐рдХрд╛рд╕ рд╕рдЬрд┐рд▓реЛ рдмрдирд╛рдЙрдБрдЫ:** OAuth 2.0 рд░ OpenID Connect рдкреНрд░реЛрдЯреЛрдХрд▓рд╣рд░реВрдХреЛ рдЬрдЯрд┐рд▓рддрд╛ рд▓реБрдХрд╛рдПрд░ рддрдкрд╛рдИрдВрд▓рд╛рдИ рдХреЗрд╣реА рд▓рд╛рдЗрди рдХреЛрдбрдорд╛ рдмрд▓рд┐рдпреЛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдердкреНрди рдЕрдиреБрдорддрд┐ рджрд┐рдиреНрдЫред
- **рдпреЛ рдирд┐рдпрдорд┐рдд рд░реВрдкрдорд╛ рдЕрдкрдбреЗрдЯ рд╣реБрдиреНрдЫ:** рдорд╛рдЗрдХреНрд░реЛрд╕рдлреНрдЯрд▓реЗ рдирдпрд╛рдБ рд╕реБрд░рдХреНрд╖рд╛ рдЦрддрд░рд╛рд╣рд░реВ рд░ рдкреНрд▓реЗрдЯрдлрд░реНрдо рдкрд░рд┐рд╡рд░реНрддрдирд╣рд░реВрд▓рд╛рдИ рд╕рдореНрдмреЛрдзрди рдЧрд░реНрди MSAL рд▓рд╛рдИ рд╕рдХреНрд░рд┐рдп рд░реВрдкрдорд╛ рдорд░реНрдордд рдЧрд░реНрджрдЫред

MSAL рд▓реЗ .NET, JavaScript/TypeScript, Python, Java, Go, рд░ рдореЛрдмрд╛рдЗрд▓ рдкреНрд▓реЗрдЯрдлрд░реНрдорд╣рд░реВ (iOS рд░ Android) рд╕рд╣рд┐рдд рд╡рд┐рднрд┐рдиреНрди рднрд╛рд╖рд╛рд╣рд░реВ рд░ рдлреНрд░реЗрдорд╡рд░реНрдХрд╣рд░реВ рд╕рдорд░реНрдерди рдЧрд░реНрдЫред рдпрд╕рд▓реЗ рддрдкрд╛рдИрдВрд▓рд╛рдИ рд╕рдореНрдкреВрд░реНрдг рдкреНрд░рд╡рд┐рдзрд┐ рд╕реНрдЯреНрдпрд╛рдХрдорд╛ рд╕рдорд╛рди рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдврд╛рдБрдЪрд╛ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рдЕрдиреБрдорддрд┐ рджрд┐рдиреНрдЫред

MSAL рдмрд╛рд░реЗ рдердк рдЬрд╛рдиреНрди, рддрдкрд╛рдИрдВ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ [MSAL рдЕрд╡рд▓реЛрдХрди рдХрд╛рдЧрдЬрд╛рдд](https://learn.microsoft.com/entra/identity-platform/msal-overview) рд╣реЗрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред

---

## Entra ID рдкреНрд░рдпреЛрдЧ рдЧрд░реА рддрдкрд╛рдИрдВрдХреЛ MCP рд╕рд░реНрднрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдЧрд░реНрдиреЗ: рдЪрд░рдг-рджрд░-рдЪрд░рдг рдорд╛рд░реНрдЧрджрд░реНрд╢рди

рдЕрдм, рд╣рд╛рдореА рд╕реНрдерд╛рдиреАрдп MCP рд╕рд░реНрднрд░ (рдЬреЛ `stdio` рдорд╛рд░реНрдлрдд рд╕рдЮреНрдЪрд╛рд░ рдЧрд░реНрдЫ) рд▓рд╛рдИ Entra ID рдкреНрд░рдпреЛрдЧ рдЧрд░реА рдХрд╕рд░реА рд╕реБрд░рдХреНрд╖рд┐рдд рдЧрд░реНрдиреЗ рднрдиреЗрд░ рд╣рд┐рдБрдбреНрдиреЗрдЫреМрдВред рдпреЛ рдЙрджрд╛рд╣рд░рдгрдорд╛ **рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд▓рд╛рдЗрдиреНрдЯ** рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдПрдХреЛ рдЫ, рдЬреБрди рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рдХреЛ рдореЗрд╕рд┐рдирдорд╛ рдЪрд▓реНрдиреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧрд╣рд░реВ (рдЬрд╕реНрддреИ рдбреЗрд╕реНрдХрдЯрдк рдПрдк рд╡рд╛ рд╕реНрдерд╛рдиреАрдп рд╡рд┐рдХрд╛рд╕ рд╕рд░реНрднрд░) рдХрд╛ рд▓рд╛рдЧрд┐ рдЙрдкрдпреБрдХреНрдд рдЫред

### рдкрд░рд┐рджреГрд╢реНрдп рез: рд╕реНрдерд╛рдиреАрдп MCP рд╕рд░реНрднрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдЧрд░реНрдиреЗ (рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд▓рд╛рдЗрдиреНрдЯрд╕рдБрдЧ)

рдпрд╕ рдкрд░рд┐рджреГрд╢реНрдпрдорд╛, рд╣рд╛рдореА рдПрдЙрдЯрд╛ рд╕реНрдерд╛рдиреАрдп рд░реВрдкрдорд╛ рдЪрд▓реНрдиреЗ MCP рд╕рд░реНрднрд░ рд╣реЗрд░реМрдВ, рдЬреБрди `stdio` рдорд╛рд░реНрдлрдд рд╕рдЮреНрдЪрд╛рд░ рдЧрд░реНрдЫ рд░ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓рд╛рдИ рдкреНрд░рдорд╛рдгрд┐рдд рдЧрд░реНрди Entra ID рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдЫред рд╕рд░реНрднрд░рдорд╛ рдПрдЙрдЯрд╛ рдЙрдкрдХрд░рдг рд╣реБрдиреЗрдЫ рдЬрд╕рд▓реЗ Microsoft Graph API рдмрд╛рдЯ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рдХреЛ рдкреНрд░реЛрдлрд╛рдЗрд▓ рдЬрд╛рдирдХрд╛рд░реА рд▓реНрдпрд╛рдЙрдБрдЫред

#### рез. Entra ID рдорд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╕реЗрдЯрдЕрдк рдЧрд░реНрдиреЗ

рдХреЛрдб рд▓реЗрдЦреНрдиреБрдЕрдШрд┐, рддрдкрд╛рдИрдВрд▓реЗ Microsoft Entra ID рдорд╛ рдЖрдлреНрдиреЛ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рджрд░реНрддрд╛ рдЧрд░реНрдиреБрдкрд░реНрдЫред рдпрд╕рд▓реЗ Entra ID рд▓рд╛рдИ рддрдкрд╛рдИрдВрдХреЛ рдЕрдиреБрдкреНрд░рдпреЛрдЧрдХреЛ рдмрд╛рд░реЗрдорд╛ рдЬрд╛рдирдХрд╛рд░реА рджрд┐рдиреНрдЫ рд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕реЗрд╡рд╛ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреЗ рдЕрдиреБрдорддрд┐ рджрд┐рдиреНрдЫред

1. **[Microsoft Entra рдкреЛрд░реНрдЯрд▓](https://entra.microsoft.com/)** рдорд╛ рдЬрд╛рдиреБрд╣реЛрд╕реНред
2. **App registrations** рдорд╛ рдЬрд╛рдиреБрд╣реЛрд╕реН рд░ **New registration** рдХреНрд▓рд┐рдХ рдЧрд░реНрдиреБрд╣реЛрд╕реНред
3. рдЖрдлреНрдиреЛ рдЕрдиреБрдкреНрд░рдпреЛрдЧрд▓рд╛рдИ рдирд╛рдо рджрд┐рдиреБрд╣реЛрд╕реН (рдЬрд╕реНрддреИ "My Local MCP Server")ред
4. **Supported account types** рдорд╛ **Accounts in this organizational directory only** рдЪрдпрди рдЧрд░реНрдиреБрд╣реЛрд╕реНред
5. рдпрд╕ рдЙрджрд╛рд╣рд░рдгрдХрд╛ рд▓рд╛рдЧрд┐ **Redirect URI** рдЦрд╛рд▓реА рдЫреЛрдбреНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред
6. **Register** рдХреНрд▓рд┐рдХ рдЧрд░реНрдиреБрд╣реЛрд╕реНред

рджрд░реНрддрд╛ рднрдПрдкрдЫрд┐, **Application (client) ID** рд░ **Directory (tenant) ID** рдиреЛрдЯ рдЧрд░реНрдиреБрд╣реЛрд╕реНред рддрдкрд╛рдИрдВрд▓рд╛рдИ рдпреА рдХреЛрдбрдорд╛ рдЖрд╡рд╢реНрдпрдХ рдкрд░реНрдЫред

#### реи. рдХреЛрдб: рд╡рд┐рд╢реНрд▓реЗрд╖рдг

рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдореНрд╣рд╛рд▓реНрдиреЗ рдореБрдЦреНрдп рднрд╛рдЧрд╣рд░реВ рд╣реЗрд░реМрдВред рдпрд╕ рдЙрджрд╛рд╣рд░рдгрдХреЛ рдкреВрд░реНрдг рдХреЛрдб [Entra ID - Local - WAM](https://github.com/Azure-Samples/mcp-auth-servers/tree/main/src/entra-id-local-wam) рдлреЛрд▓реНрдбрд░рдорд╛ рдЙрдкрд▓рдмреНрдз рдЫ, рдЬреБрди [mcp-auth-servers GitHub рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА](https://github.com/Azure-Samples/mcp-auth-servers) рдорд╛ рдЫред

**`AuthenticationService.cs`**

рдпреЛ рдХреНрд▓рд╛рд╕ Entra ID рд╕рдБрдЧ рдЕрдиреНрддрд░рдХреНрд░рд┐рдпрд╛ рд╕рдореНрд╣рд╛рд▓реНрдЫред

- **`CreateAsync`**: MSAL рдмрд╛рдЯ `PublicClientApplication` рд╕реБрд░реБ рдЧрд░реНрдЫред рдпреЛ рддрдкрд╛рдИрдВрдХреЛ рдЕрдиреБрдкреНрд░рдпреЛрдЧрдХреЛ `clientId` рд░ `tenantId` рд╕рдБрдЧ рдХрдиреНрдлрд┐рдЧрд░ рдЧрд░рд┐рдПрдХреЛ рдЫред
- **`WithBroker`**: рдпреЛ Windows Web Account Manager рдЬрд╕реНрддреЛ рдмреНрд░реЛрдХрд░ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рд╕рдХреНрд╖рдо рдкрд╛рд░реНрдЫ, рдЬрд╕рд▓реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рд░ рд╕рд╣рдЬ рд╕рд┐рдВрдЧрд▓ рд╕рд╛рдЗрди-рдСрди рдЕрдиреБрднрд╡ рджрд┐рдиреНрдЫред
- **`AcquireTokenAsync`**: рдореБрдЦреНрдп рд╡рд┐рдзрд┐ рд╣реЛред рдпрд╕рд▓реЗ рдкрд╣рд┐рд▓реЗ рдореМрди рд░реВрдкрдорд╛ рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрдиреЗ рдкреНрд░рдпрд╛рд╕ рдЧрд░реНрдЫ (рдпрджрд┐ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рдХреЛ рд╡реИрдз рд╕реЗрд╕рди рдЫ рднрдиреЗ рдкреБрдирдГ рд╕рд╛рдЗрди рдЗрди рдЖрд╡рд╢реНрдпрдХ рдкрд░реНрджреИрди)ред рдпрджрд┐ рдореМрди рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрди рд╕рдХрд┐рдБрджреИрди рднрдиреЗ, рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓рд╛рдИ рдЕрдиреНрддрд░рдХреНрд░рд┐рдпрд╛рддреНрдордХ рд░реВрдкрдорд╛ рд╕рд╛рдЗрди рдЗрди рдЧрд░реНрди рдЖрдЧреНрд░рд╣ рдЧрд░реНрдЫред

```csharp
// Simplified for clarity
public static async Task<AuthenticationService> CreateAsync(ILogger<AuthenticationService> logger)
{
    var msalClient = PublicClientApplicationBuilder
        .Create(_clientId) // Your Application (client) ID
        .WithAuthority(AadAuthorityAudience.AzureAdMyOrg)
        .WithTenantId(_tenantId) // Your Directory (tenant) ID
        .WithBroker(new BrokerOptions(BrokerOptions.OperatingSystems.Windows))
        .Build();

    // ... cache registration ...

    return new AuthenticationService(logger, msalClient);
}

public async Task<string> AcquireTokenAsync()
{
    try
    {
        // Try silent authentication first
        var accounts = await _msalClient.GetAccountsAsync();
        var account = accounts.FirstOrDefault();

        AuthenticationResult? result = null;

        if (account != null)
        {
            result = await _msalClient.AcquireTokenSilent(_scopes, account).ExecuteAsync();
        }
        else
        {
            // If no account, or silent fails, go interactive
            result = await _msalClient.AcquireTokenInteractive(_scopes).ExecuteAsync();
        }

        return result.AccessToken;
    }
    catch (Exception ex)
    {
        _logger.LogError(ex, "An error occurred while acquiring the token.");
        throw; // Optionally rethrow the exception for higher-level handling
    }
}
```

**`Program.cs`**

рдпрд╣рд╛рдБ MCP рд╕рд░реНрднрд░ рд╕реЗрдЯрдЕрдк рдЧрд░рд┐рдПрдХреЛ рдЫ рд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕реЗрд╡рд╛ рд╕рдорд╛рд╡реЗрд╢ рдЧрд░рд┐рдПрдХреЛ рдЫред

- **`AddSingleton<AuthenticationService>`**: рдпрд╕рд▓реЗ `AuthenticationService` рд▓рд╛рдИ рдирд┐рд░реНрднрд░рддрд╛ рдЗрдиреНрдЬреЗрдХреНрд╢рди рдХрдиреНрдЯреЗрдирд░рдорд╛ рджрд░реНрддрд╛ рдЧрд░реНрдЫ, рдЬрд╕рд▓реЗ рдЕрдиреНрдп рднрд╛рдЧрд╣рд░реВрд▓реЗ (рдЬрд╕реНрддреИ рд╣рд╛рдореНрд░реЛ рдЙрдкрдХрд░рдг) рдпрд╕рд▓рд╛рдИ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рд╕рдХреНрдЫрдиреНред
- **`GetUserDetailsFromGraph` рдЙрдкрдХрд░рдг**: рдпрд╕ рдЙрдкрдХрд░рдгрд▓рд╛рдИ `AuthenticationService` рдХреЛ рдЙрджрд╛рд╣рд░рдг рдЪрд╛рд╣рд┐рдиреНрдЫред рдпрд╕рд▓реЗ рдкрд╣рд┐рд▓реЗ `authService.AcquireTokenAsync()` рдХрд▓ рдЧрд░реЗрд░ рдорд╛рдиреНрдп рдкрд╣реБрдБрдЪ рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрдЫред рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдлрд▓ рднрдПрдорд╛, рдпреЛ рдЯреЛрдХрди рдкреНрд░рдпреЛрдЧ рдЧрд░реА Microsoft Graph API рдХрд▓ рдЧрд░реЗрд░ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рдХреЛ рд╡рд┐рд╡рд░рдг рд▓реНрдпрд╛рдЙрдБрдЫред

```csharp
// Simplified for clarity
[McpServerTool(Name = "GetUserDetailsFromGraph")]
public static async Task<string> GetUserDetailsFromGraph(
    AuthenticationService authService)
{
    try
    {
        // This will trigger the authentication flow
        var accessToken = await authService.AcquireTokenAsync();

        // Use the token to create a GraphServiceClient
        var graphClient = new GraphServiceClient(
            new BaseBearerTokenAuthenticationProvider(new TokenProvider(authService)));

        var user = await graphClient.Me.GetAsync();

        return System.Text.Json.JsonSerializer.Serialize(user);
    }
    catch (Exception ex)
    {
        return $"Error: {ex.Message}";
    }
}
```

#### рей. рд╕рдмреИ рдХреБрд░рд╛ рдХрд╕рд░реА рд╕рдБрдЧреИ рдХрд╛рдо рдЧрд░реНрдЫ

1. MCP рдХреНрд▓рд╛рдЗрдиреНрдЯрд▓реЗ `GetUserDetailsFromGraph` рдЙрдкрдХрд░рдг рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рдЦреЛрдЬреНрджрд╛, рдЙрдкрдХрд░рдгрд▓реЗ рдкрд╣рд┐рд▓реЗ `AcquireTokenAsync` рдХрд▓ рдЧрд░реНрдЫред
2. `AcquireTokenAsync` рд▓реЗ MSAL рд▓рд╛рдЗрдмреНрд░реЗрд░реАрд▓рд╛рдИ рдорд╛рдиреНрдп рдЯреЛрдХрди рдЫ рдХрд┐ рдЫреИрди рдЬрд╛рдБрдЪреНрди рднрдиреНрдЫред
3. рдпрджрд┐ рдЯреЛрдХрди рдЫреИрди рднрдиреЗ, MSAL рдмреНрд░реЛрдХрд░ рдорд╛рд░реНрдлрдд рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓рд╛рдИ Entra ID рдЦрд╛рддрд╛рдорд╛ рд╕рд╛рдЗрди рдЗрди рдЧрд░реНрди рдЖрдЧреНрд░рд╣ рдЧрд░реНрдЫред
4. рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓реЗ рд╕рд╛рдЗрди рдЗрди рдЧрд░реЗрдкрдЫрд┐, Entra ID рд▓реЗ рдкрд╣реБрдБрдЪ рдЯреЛрдХрди рдЬрд╛рд░реА рдЧрд░реНрдЫред
5. рдЙрдкрдХрд░рдгрд▓реЗ рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдЧрд░реА Microsoft Graph API рд▓рд╛рдИ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд▓ рдЧрд░реНрдЫред
6. рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рдХреЛ рд╡рд┐рд╡рд░рдг MCP рдХреНрд▓рд╛рдЗрдиреНрдЯрд▓рд╛рдИ рдлрд░реНрдХрд╛рдЗрдиреНрдЫред

рдпрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛рд▓реЗ рдХреЗрд╡рд▓ рдкреНрд░рдорд╛рдгрд┐рдд рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд╣рд░реВрд▓реЗ рдЙрдкрдХрд░рдг рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рд╕рдХреВрдиреН рднрдиреЗрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрджреИ рддрдкрд╛рдИрдВрдХреЛ рд╕реНрдерд╛рдиреАрдп MCP рд╕рд░реНрднрд░рд▓рд╛рдИ рдкреНрд░рднрд╛рд╡рдХрд╛рд░реА рд░реВрдкрдорд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рдмрдирд╛рдЙрдБрдЫред

### рдкрд░рд┐рджреГрд╢реНрдп реи: рд░рд┐рдореЛрдЯ MCP рд╕рд░реНрднрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдЧрд░реНрдиреЗ (рдЧреЛрдкреНрдп рдХреНрд▓рд╛рдЗрдиреНрдЯрд╕рдБрдЧ)

рдЬрдм рддрдкрд╛рдИрдВрдХреЛ MCP рд╕рд░реНрднрд░ рд░рд┐рдореЛрдЯ рдореЗрд╕рд┐рдирдорд╛ (рдЬрд╕реНрддреИ рдХреНрд▓рд╛рдЙрдб рд╕рд░реНрднрд░) рдЪрд▓рд┐рд░рд╣реЗрдХреЛ рд╣реБрдиреНрдЫ рд░ HTTP Streaming рдЬрд╕реНрддреЛ рдкреНрд░реЛрдЯреЛрдХрд▓рдорд╛рд░реНрдлрдд рд╕рдЮреНрдЪрд╛рд░ рдЧрд░реНрдЫ, рд╕реБрд░рдХреНрд╖рд╛ рдЖрд╡рд╢реНрдпрдХрддрд╛рд╣рд░реВ рдлрд░рдХ рд╣реБрдиреНрдЫрдиреНред рдпрд╕ рдЕрд╡рд╕реНрдерд╛рдорд╛, рддрдкрд╛рдИрдВрд▓реЗ **рдЧреЛрдкреНрдп рдХреНрд▓рд╛рдЗрдиреНрдЯ** рд░ **Authorization Code Flow** рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреБрдкрд░реНрдЫред рдпреЛ рд╡рд┐рдзрд┐ рдмрдвреА рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реБрдиреНрдЫ рдХрд┐рдирднрдиреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧрдХрд╛ рдЧреЛрдкреНрдп рдХреБрдЮреНрдЬреАрд╣рд░реВ рдмреНрд░рд╛рдЙрдЬрд░рдорд╛ рдХрд╣рд┐рд▓реНрдпреИ рджреЗрдЦрд┐рдБрджреИрдирдиреНред

рдпреЛ рдЙрджрд╛рд╣рд░рдгрдорд╛ TypeScript рдЖрдзрд╛рд░рд┐рдд MCP рд╕рд░реНрднрд░ рдЫ рдЬрд╕рд▓реЗ HTTP рдЕрдиреБрд░реЛрдзрд╣рд░реВ рд╣реНрдпрд╛рдиреНрдбрд▓ рдЧрд░реНрди Express.js рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдЫред

#### рез. Entra ID рдорд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╕реЗрдЯрдЕрдк рдЧрд░реНрдиреЗ

Entra ID рдорд╛ рд╕реЗрдЯрдЕрдк рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд▓рд╛рдЗрдиреНрдЯ рдЬрд╕реНрддреИ рдЫ, рддрд░ рдПрдЙрдЯрд╛ рдореБрдЦреНрдп рдлрд░рдХ рдЫ: рддрдкрд╛рдИрдВрд▓реЗ **client secret** рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрдиреБрдкрд░реНрдЫред

1. **[Microsoft Entra рдкреЛрд░реНрдЯрд▓](https://entra.microsoft.com/)** рдорд╛ рдЬрд╛рдиреБрд╣реЛрд╕реНред
2. рдЖрдлреНрдиреЛ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рджрд░реНрддрд╛рдорд╛ **Certificates & secrets** рдЯреНрдпрд╛рдмрдорд╛ рдЬрд╛рдиреБрд╣реЛрд╕реНред
3. **New client secret** рдХреНрд▓рд┐рдХ рдЧрд░реНрдиреБрд╣реЛрд╕реН, рд╡рд┐рд╡рд░рдг рджрд┐рдиреБрд╣реЛрд╕реН рд░ **Add** рдХреНрд▓рд┐рдХ рдЧрд░реНрдиреБрд╣реЛрд╕реНред
4. **рдорд╣рддреНрддреНрд╡рдкреВрд░реНрдг:** рдЧреЛрдкреНрдп рдорд╛рди рддреБрд░реБрдиреНрддреИ рдХрдкреА рдЧрд░реНрдиреБрд╣реЛрд╕реНред рддрдкрд╛рдИрдВрд▓реЗ рдпреЛ рдлреЗрд░рд┐ рд╣реЗрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреЗ рдЫреИрдиред
5. рддрдкрд╛рдИрдВрд▓реЗ **Redirect URI** рдкрдирд┐ рдХрдиреНрдлрд┐рдЧрд░ рдЧрд░реНрдиреБрдкрд░реНрдЫред **Authentication** рдЯреНрдпрд╛рдмрдорд╛ рдЬрд╛рдиреБрд╣реЛрд╕реН, **Add a platform** рдХреНрд▓рд┐рдХ рдЧрд░реА **Web** рдЪрдпрди рдЧрд░реНрдиреБрд╣реЛрд╕реН рд░ рдЖрдлреНрдиреЛ рдЕрдиреБрдкреНрд░рдпреЛрдЧрдХреЛ Redirect URI рдкреНрд░рд╡рд┐рд╖реНрдЯ рдЧрд░реНрдиреБрд╣реЛрд╕реН (рдЬрд╕реНрддреИ `http://localhost:3001/auth/callback`)ред

> **тЪая╕П рдорд╣рддреНрддреНрд╡рдкреВрд░реНрдг рд╕реБрд░рдХреНрд╖рд╛ рд╕реВрдЪрдирд╛:** рдЙрддреНрдкрд╛рджрди рдЕрдиреБрдкреНрд░рдпреЛрдЧрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐, Microsoft рд▓реЗ **client secrets** рдХреЛ рд╕рдЯреНрдЯрд╛ **secretless authentication** рд╡рд┐рдзрд┐рд╣рд░реВ рдЬрд╕реНрддреИ **Managed Identity** рд╡рд╛ **Workload Identity Federation** рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рдХрдбрд╛ рд╕рд┐рдлрд╛рд░рд┐рд╕ рдЧрд░реНрдЫред client secrets рд╕реБрд░рдХреНрд╖рд╛ рдЬреЛрдЦрд┐рдорд╣рд░реВ рдирд┐рдореНрддреНрдпрд╛рдЙрди рд╕рдХреНрдЫрдиреН рдХрд┐рдирднрдиреЗ рддрд┐рдиреАрд╣рд░реВ рдЦреБрд▓реНрди рд╡рд╛ рдЪреЛрд░реА рд╣реБрди рд╕рдХреНрдЫрдиреНред Managed identities рд▓реЗ рддрдкрд╛рдИрдВрдХреЛ рдХреЛрдб рд╡рд╛ рдХрдиреНрдлрд┐рдЧрд░реЗрд╕рдирдорд╛ рдкреНрд░рдорд╛рдгрдкрддреНрд░рд╣рд░реВ рднрдгреНрдбрд╛рд░рдг рдирдЧрд░реА рдмрдвреА рд╕реБрд░рдХреНрд╖рд┐рдд рддрд░рд┐рдХрд╛ рдкреНрд░рджрд╛рди рдЧрд░реНрдЫред  
>  
> Managed identities рд░ рддрд┐рдиреАрд╣рд░реВрд▓рд╛рдИ рдХрд╕рд░реА рд▓рд╛рдЧреВ рдЧрд░реНрдиреЗ рдмрд╛рд░реЗ рдердк рдЬрд╛рдирдХрд╛рд░реАрдХрд╛ рд▓рд╛рдЧрд┐ [Managed identities for Azure resources overview](https://learn.microsoft.com/entra/identity/managed-identities-azure-resources/overview) рд╣реЗрд░реНрдиреБрд╣реЛрд╕реНред

#### реи. рдХреЛрдб: рд╡рд┐рд╢реНрд▓реЗрд╖рдг

рдпреЛ рдЙрджрд╛рд╣рд░рдг рд╕реЗрд╕рди-рдЖрдзрд╛рд░рд┐рдд рд╡рд┐рдзрд┐ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдЫред рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓реЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЧрд░реНрджрд╛, рд╕рд░реНрднрд░рд▓реЗ рдкрд╣реБрдБрдЪ рдЯреЛрдХрди рд░ рд░рд┐рдлреНрд░реЗрд╕ рдЯреЛрдХрди рд╕реЗрд╕рдирдорд╛ рднрдгреНрдбрд╛рд░рдг рдЧрд░реНрдЫ рд░ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓рд╛рдИ рд╕реЗрд╕рди рдЯреЛрдХрди рджрд┐рдиреНрдЫред рдпреЛ рд╕реЗрд╕рди рдЯреЛрдХрди рдкрдЫрд┐ рдЖрдЙрдиреЗ рдЕрдиреБрд░реЛрдзрд╣рд░реВрдорд╛ рдкреНрд░рдпреЛрдЧ рд╣реБрдиреНрдЫред рдпрд╕ рдЙрджрд╛рд╣рд░рдгрдХреЛ рдкреВрд░реНрдг рдХреЛрдб [Entra ID - Confidential client](https://github.com/Azure-Samples/mcp-auth-servers/tree/main/src/entra-id-cca-session) рдлреЛрд▓реНрдбрд░рдорд╛ рдЙрдкрд▓рдмреНрдз рдЫ, рдЬреБрди [mcp-auth-servers GitHub рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА](https://github.com/Azure-Samples/mcp-auth-servers) рдорд╛ рдЫред

**`Server.ts`**

рдпреЛ рдлрд╛рдЗрд▓рд▓реЗ Express рд╕рд░реНрднрд░ рд░ MCP рдЯреНрд░рд╛рдиреНрд╕рдкреЛрд░реНрдЯ рд▓реЗрдпрд░ рд╕реЗрдЯрдЕрдк рдЧрд░реНрдЫред

- **`requireBearerAuth`**: рдпреЛ рдорд┐рдбрд▓рд╡реЗрдпрд░рд▓реЗ `/sse` рд░ `/message` рдЕрдиреНрддрд┐рдо рдмрд┐рдиреНрджреБрд╣рд░реВрд▓рд╛рдИ рд╕реБрд░рдХреНрд╖рд╛ рдЧрд░реНрдЫред рдпрд╕рд▓реЗ рдЕрдиреБрд░реЛрдзрдХреЛ `Authorization` рд╣реЗрдбрд░рдорд╛ рдорд╛рдиреНрдп bearer рдЯреЛрдХрди рдЫ рдХрд┐ рдЫреИрди рдЬрд╛рдБрдЪ рдЧрд░реНрдЫред
- **`EntraIdServerAuthProvider`**: рдпреЛ рдХрд╕реНрдЯрдо рдХреНрд▓рд╛рд╕ рд╣реЛ рдЬрд╕рд▓реЗ `McpServerAuthorizationProvider` рдЗрдиреНрдЯрд░рдлреЗрд╕ рд▓рд╛рдЧреВ рдЧрд░реНрдЫред рдпреЛ OAuth 2.0 рдлреНрд▓реЛ рд╕рдореНрд╣рд╛рд▓реНрдЫред
- **`/auth/callback`**: рдпреЛ рдЕрдиреНрддрд┐рдо рдмрд┐рдиреНрджреБрд▓реЗ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓реЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЧрд░реЗрдкрдЫрд┐ Entra ID рдмрд╛рдЯ рдЖрдПрдХреЛ рд░рд┐рдбрд┐рд░реЗрдХреНрдЯ рд╕рдореНрд╣рд╛рд▓реНрдЫред рдпрд╕рд▓реЗ authorization code рд▓рд╛рдИ рдкрд╣реБрдБрдЪ рдЯреЛрдХрди рд░ рд░рд┐рдлреНрд░реЗрд╕ рдЯреЛрдХрдирдорд╛ рдкрд░рд┐рд╡рд░реНрддрди рдЧрд░реНрдЫред

```typescript
// Simplified for clarity
const app = express();
const { server } = createServer();
const provider = new EntraIdServerAuthProvider();

// Protect the SSE endpoint
app.get("/sse", requireBearerAuth({
  provider,
  requiredScopes: ["User.Read"]
}), async (req, res) => {
  // ... connect to the transport ...
});

// Protect the message endpoint
app.post("/message", requireBearerAuth({
  provider,
  requiredScopes: ["User.Read"]
}), async (req, res) => {
  // ... handle the message ...
});

// Handle the OAuth 2.0 callback
app.get("/auth/callback", (req, res) => {
  provider.handleCallback(req.query.code, req.query.state)
    .then(result => {
      // ... handle success or failure ...
    });
});
```

**`Tools.ts`**

рдпреЛ рдлрд╛рдЗрд▓рд▓реЗ MCP рд╕рд░реНрднрд░рд▓реЗ рдкреНрд░рджрд╛рди рдЧрд░реНрдиреЗ рдЙрдкрдХрд░рдгрд╣рд░реВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдЧрд░реНрдЫред `getUserDetails` рдЙрдкрдХрд░рдг рдкрд╣рд┐рд▓реЗрдХреЛ рдЬрд╕реНрддреИ рдЫ, рддрд░ рдпрд╕рд▓реЗ рдкрд╣реБрдБрдЪ рдЯреЛрдХрди рд╕реЗрд╕рдирдмрд╛рдЯ рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрдЫред

```typescript
// Simplified for clarity
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const { name } = request.params;
  const context = request.params?.context as { token?: string } | undefined;
  const sessionToken = context?.token;

  if (name === ToolName.GET_USER_DETAILS) {
    if (!sessionToken) {
      throw new AuthenticationError("Authentication token is missing or invalid. Ensure the token is provided in the request context.");
    }

    // Get the Entra ID token from the session store
    const tokenData = tokenStore.getToken(sessionToken);
    const entraIdToken = tokenData.accessToken;

    const graphClient = Client.init({
      authProvider: (done) => {
        done(null, entraIdToken);
      }
    });

    const user = await graphClient.api('/me').get();

    // ... return user details ...
  }
});
```

**`auth/EntraIdServerAuthProvider.ts`**

рдпреЛ рдХреНрд▓рд╛рд╕рд▓реЗ рдирд┐рдореНрди рдХрд╛рд░реНрдпрд╣рд░реВ рд╕рдореНрд╣рд╛рд▓реНрдЫ:

- рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓рд╛рдИ Entra ID рд╕рд╛рдЗрди-рдЗрди рдкреГрд╖реНрдардорд╛ рд░рд┐рдбрд┐рд░реЗрдХреНрдЯ рдЧрд░реНрдиреЗред
- authorization code рд▓рд╛рдИ рдкрд╣реБрдБрдЪ рдЯреЛрдХрдирдорд╛ рдкрд░рд┐рд╡рд░реНрддрди рдЧрд░реНрдиреЗред
- рдЯреЛрдХрдирд╣рд░реВ `tokenStore` рдорд╛ рднрдгреНрдбрд╛рд░рдг рдЧрд░реНрдиреЗред
- рдкрд╣реБрдБрдЪ рдЯреЛрдХрди рдореНрдпрд╛рдж рд╕рдХрд┐рдПрдкрдЫрд┐ рд░рд┐рдлреНрд░реЗрд╕ рдЧрд░реНрдиреЗред

#### рей. рд╕рдмреИ рдХреБрд░рд╛ рдХрд╕рд░реА рд╕рдБрдЧреИ рдХрд╛рдо рдЧрд░реНрдЫ

1. рдЬрдм рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓реЗ рдкрд╣рд┐рд▓реЛ рдкрдЯрдХ MCP рд╕рд░реНрднрд░рд╕рдБрдЧ рдЬрдбрд╛рди рдЧрд░реНрди рдЦреЛрдЬреНрдЫ, `requireBearerAuth` рдорд┐рдбрд▓рд╡реЗрдпрд░рд▓реЗ рджреЗрдЦреНрдЫ рдХрд┐ рдЙрдиреАрд╕рдБрдЧ рдорд╛рдиреНрдп рд╕реЗрд╕рди рдЫреИрди рд░ Entra ID рд╕рд╛рдЗрди-рдЗрди рдкреГрд╖реНрдардорд╛ рд░рд┐рдбрд┐рд░реЗрдХреНрдЯ рдЧрд░реНрдЫред
2. рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓реЗ рдЖрдлреНрдиреЛ Entra ID рдЦрд╛рддрд╛рдорд╛ рд╕рд╛рдЗрди рдЗрди рдЧрд░реНрдЫред
3. Entra ID рд▓реЗ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓рд╛рдИ `/auth/callback` рдЕрдиреНрддрд┐рдо рдмрд┐рдиреНрджреБрдорд╛ authorization code рд╕рд╣рд┐рдд рд░рд┐рдбрд┐рд░реЗрдХреНрдЯ рдЧрд░реНрдЫред
4. рд╕рд░реНрднрд░рд▓реЗ рдХреЛрдбрд▓рд╛рдИ рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рд░ рд░рд┐рдлреНрд░реЗрд╢ рдЯреЛрдХрдирдорд╛ рдкрд░рд┐рд╡рд░реНрддрди рдЧрд░реНрдЫ, рддрд┐рдиреАрд╣рд░реВрд▓рд╛рдИ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рд╛рдЦреНрдЫ, рд░ рдПрдЙрдЯрд╛ рд╕реЗрд╕рди рдЯреЛрдХрди рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрдЫ рдЬреБрди рдХреНрд▓рд╛рдЗрдиреНрдЯрд▓рд╛рдИ рдкрдард╛рдЗрдиреНрдЫред  
5. рдХреНрд▓рд╛рдЗрдиреНрдЯрд▓реЗ рдЕрдм рдпреЛ рд╕реЗрд╕рди рдЯреЛрдХрдирд▓рд╛рдИ `Authorization` рд╣реЗрдбрд░рдорд╛ рд░рд╛рдЦреЗрд░ MCP рд╕рд░реНрднрд░рдорд╛ рд╕рдмреИ рднрд╡рд┐рд╖реНрдпрдХрд╛ рдЕрдиреБрд░реЛрдзрд╣рд░реВ рдЧрд░реНрди рд╕рдХреНрдЫред  
6. рдЬрдм `getUserDetails` рдЯреБрд▓ рдХрд▓ рдЧрд░рд┐рдиреНрдЫ, рдпрд╕рд▓реЗ рд╕реЗрд╕рди рдЯреЛрдХрди рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ Entra ID рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдЦреЛрдЬреНрдЫ рд░ рддреНрдпрд╕рдкрдЫрд┐ Microsoft Graph API рдХрд▓ рдЧрд░реНрди рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдЫред  

рдпреЛ рдкреНрд░рд╡рд╛рд╣ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд▓рд╛рдЗрдиреНрдЯ рдкреНрд░рд╡рд╛рд╣рднрдиреНрджрд╛ рдЬрдЯрд┐рд▓ рдЫ, рддрд░ рдЗрдиреНрдЯрд░рдиреЗрдЯ-рдлреЗрд╕рд┐рдЩ рдПрдиреНрдбрдкреЛрдЗрдиреНрдЯрд╣рд░реВрдХрд╛ рд▓рд╛рдЧрд┐ рдЖрд╡рд╢реНрдпрдХ рдЫред рдХрд┐рдирднрдиреЗ рд░рд┐рдореЛрдЯ MCP рд╕рд░реНрднрд░рд╣рд░реВ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЗрдиреНрдЯрд░рдиреЗрдЯрдорд╛рд░реНрдлрдд рдкрд╣реБрдБрдЪрдпреЛрдЧреНрдп рд╣реБрдиреНрдЫрдиреН, рддрд┐рдиреАрд╣рд░реВрд▓рд╛рдИ рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдБрдЪ рд░ рд╕рдореНрднрд╛рд╡рд┐рдд рдЖрдХреНрд░рдордгрд╣рд░реВрдмрд╛рдЯ рд╕реБрд░рдХреНрд╖рд╛ рдЧрд░реНрди рдХрдбрд╛ рд╕реБрд░рдХреНрд╖рд╛ рдЙрдкрд╛рдпрд╣рд░реВ рдЖрд╡рд╢реНрдпрдХ рд╣реБрдиреНрдЫрдиреНред  


## рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореНрдмрдиреНрдзреА рдЙрддреНрддрдо рдЕрднреНрдпрд╛рд╕рд╣рд░реВ

- **рд╕рдзреИрдВ HTTPS рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреБрд╣реЛрд╕реН**: рдХреНрд▓рд╛рдЗрдиреНрдЯ рд░ рд╕рд░реНрднрд░рдмреАрдЪрдХреЛ рд╕рдЮреНрдЪрд╛рд░рд▓рд╛рдИ рдЗрдиреНрдХреНрд░рд┐рдкреНрдЯ рдЧрд░реЗрд░ рдЯреЛрдХрдирд╣рд░реВ рдЪреЛрд░реА рд╣реБрдирдмрд╛рдЯ рдЬреЛрдЧрд╛рдЙрдиреБрд╣реЛрд╕реНред  
- **Role-Based Access Control (RBAC) рд▓рд╛рдЧреВ рдЧрд░реНрдиреБрд╣реЛрд╕реН**: рдХреЗрд╡рд▓ *рдкреНрд░рдорд╛рдгрд┐рдд* рднрдПрдХреЛ рдЫ рдХрд┐ рдЫреИрди рднрдиреЗрд░ рдорд╛рддреНрд░ рдЬрд╛рдБрдЪ рдирдЧрд░реНрдиреБрд╣реЛрд╕реН; рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓реЗ *рдХреЗ рдЧрд░реНрди рдЕрдиреБрдорддрд┐ рдЫ* рддреНрдпреЛ рдкрдирд┐ рдЬрд╛рдБрдЪ рдЧрд░реНрдиреБрд╣реЛрд╕реНред рддрдкрд╛рдИрдВ Entra ID рдорд╛ рд░реЛрд▓рд╣рд░реВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫ рд░ рдЖрдлреНрдиреЛ MCP рд╕рд░реНрднрд░рдорд╛ рддрд┐рдиреАрд╣рд░реВрдХреЛ рдЬрд╛рдБрдЪ рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫред  
- **рдирд┐рдЧрд░рд╛рдиреА рд░ рдЕрдбрд┐рдЯ рдЧрд░реНрдиреБрд╣реЛрд╕реН**: рд╕рдмреИ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдШрдЯрдирд╛рд╣рд░реВ рд▓рдЧ рдЧрд░реНрдиреБрд╣реЛрд╕реН рддрд╛рдХрд┐ рд╢рдВрдХрд╛рд╕реНрдкрдж рдЧрддрд┐рд╡рд┐рдзрд┐ рдкрддреНрддрд╛ рд▓рдЧрд╛рдЙрди рд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рджрд┐рди рд╕рдХрд┐рдпреЛрд╕реНред  
- **рд░реЗрдЯ рд▓рд┐рдорд┐рдЯрд┐рдЩ рд░ рдереНрд░реЛрдЯрд▓рд┐рдЩ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реН**: Microsoft Graph рд░ рдЕрдиреНрдп API рд╣рд░реВрд▓реЗ рджреБрд░реБрдкрдпреЛрдЧ рд░реЛрдХреНрди рд░реЗрдЯ рд▓рд┐рдорд┐рдЯрд┐рдЩ рд▓рд╛рдЧреВ рдЧрд░реНрдЫрдиреНред рдЖрдлреНрдиреЛ MCP рд╕рд░реНрднрд░рдорд╛ рдПрдХреНрд╕реНрдкреЛрдиреЗрдиреНрд╕рд┐рдпрд▓ рдмреНрдпрд╛рдХрдЕрдл рд░ рдкреБрди: рдкреНрд░рдпрд╛рд╕ рдЧрд░реНрдиреЗ рддрд░реНрдХ рд▓рд╛рдЧреВ рдЧрд░реНрдиреБрд╣реЛрд╕реН рддрд╛рдХрд┐ HTTP 429 (рдзреЗрд░реИ рдЕрдиреБрд░реЛрдзрд╣рд░реВ) рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рд╣рдЬреИ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдЧрд░реНрди рд╕рдХрд┐рдпреЛрд╕реНред рдмрд╛рд░рдореНрдмрд╛рд░ рдкрд╣реБрдБрдЪ рдЧрд░рд┐рдиреЗ рдбрд╛рдЯрд╛рд▓рд╛рдИ рдХреНрдпрд╛рд╕рд┐рдЩ рдЧрд░реНрдиреЗ рд╡рд┐рдЪрд╛рд░ рдЧрд░реНрдиреБрд╣реЛрд╕реН рдЬрд╕рд▓реЗ API рдХрд▓рд╣рд░реВ рдХрдо рдЧрд░реНрдЫред  
- **рдЯреЛрдХрди рд╕реБрд░рдХреНрд╖рд┐рдд рднрдгреНрдбрд╛рд░рдг рдЧрд░реНрдиреБрд╣реЛрд╕реН**: рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рд░ рд░рд┐рдлреНрд░реЗрд╢ рдЯреЛрдХрдирд╣рд░реВ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдкрдорд╛ рднрдгреНрдбрд╛рд░рдг рдЧрд░реНрдиреБрд╣реЛрд╕реНред рд╕реНрдерд╛рдиреАрдп рдПрдкреНрд▓рд┐рдХреЗрд╕рдирд╣рд░реВрдХрд╛ рд▓рд╛рдЧрд┐, рдкреНрд░рдгрд╛рд▓реАрдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рднрдгреНрдбрд╛рд░рдг рд╕рдВрдпрдиреНрддреНрд░рд╣рд░реВ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреБрд╣реЛрд╕реНред рд╕рд░реНрднрд░ рдПрдкреНрд▓рд┐рдХреЗрд╕рдирд╣рд░реВрдХрд╛ рд▓рд╛рдЧрд┐, рдЗрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рднрдгреНрдбрд╛рд░рдг рд╡рд╛ Azure Key Vault рдЬрд╕реНрддрд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рдХреБрдЮреНрдЬреА рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рд╕реЗрд╡рд╛рд╣рд░реВ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреЗ рд╡рд┐рдЪрд╛рд░ рдЧрд░реНрдиреБрд╣реЛрд╕реНред  
- **рдЯреЛрдХрди рдореНрдпрд╛рдж рд╕рдорд╛рдкреНрддрд┐ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдЧрд░реНрдиреБрд╣реЛрд╕реН**: рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрдирд╣рд░реВрдХреЛ рд╕реАрдорд┐рдд рдЬреАрд╡рдирдХрд╛рд▓ рд╣реБрдиреНрдЫред рд░рд┐рдлреНрд░реЗрд╢ рдЯреЛрдХрди рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЯреЛрдХрди рд░рд┐рдлреНрд░реЗрд╢ рд▓рд╛рдЧреВ рдЧрд░реНрдиреБрд╣реЛрд╕реН рддрд╛рдХрд┐ рдкреБрдирдГ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдмрд┐рдирд╛ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдиреБрднрд╡ рдирд┐рд░рдиреНрддрд░ рд░рд╣реЛрд╕реНред  
- **Azure API Management рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреЗ рд╡рд┐рдЪрд╛рд░ рдЧрд░реНрдиреБрд╣реЛрд╕реН**: рдЖрдлреНрдиреЛ MCP рд╕рд░реНрднрд░рдорд╛ рдкреНрд░рддреНрдпрдХреНрд╖ рд╕реБрд░рдХреНрд╖рд╛ рд▓рд╛рдЧреВ рдЧрд░реНрджрд╛ рддрдкрд╛рдИрдВрд▓рд╛рдИ рд╕реВрдХреНрд╖реНрдо рдирд┐рдпрдиреНрддреНрд░рдг рдорд┐рд▓реНрдЫ, рддрд░ Azure API Management рдЬрд╕реНрддрд╛ API рдЧреЗрдЯрд╡реЗрд╣рд░реВрд▓реЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг, рдкреНрд░рд╛рдзрд┐рдХрд░рдг, рд░реЗрдЯ рд▓рд┐рдорд┐рдЯрд┐рдЩ, рд░ рдирд┐рдЧрд░рд╛рдиреА рдЬрд╕реНрддрд╛ рдзреЗрд░реИ рд╕реБрд░рдХреНрд╖рд╛ рдЪрд┐рдиреНрддрд╛рд╣рд░реВ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдкрдорд╛ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдЧрд░реНрди рд╕рдХреНрдЫрдиреНред рдпреАрд▓реЗ рдХреНрд▓рд╛рдЗрдиреНрдЯ рд░ MCP рд╕рд░реНрднрд░рдмреАрдЪ рдХреЗрдиреНрджреНрд░рд┐рдд рд╕реБрд░рдХреНрд╖рд╛ рддрд╣ рдкреНрд░рджрд╛рди рдЧрд░реНрдЫрдиреНред MCP рд╕рдБрдЧ API рдЧреЗрдЯрд╡реЗрд╣рд░реВ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреЗ рдмрд╛рд░реЗ рдердк рдЬрд╛рдирдХрд╛рд░реАрдХрд╛ рд▓рд╛рдЧрд┐ рд╣рд╛рдореНрд░реЛ [Azure API Management Your Auth Gateway For MCP Servers](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690) рд╣реЗрд░реНрдиреБрд╣реЛрд╕реНред  


## рдореБрдЦреНрдп рдмреБрдБрджрд╛рд╣рд░реВ

- рдЖрдлреНрдиреЛ MCP рд╕рд░реНрднрд░рд▓рд╛рдИ рд╕реБрд░рдХреНрд╖рд┐рдд рдмрдирд╛рдЙрдиреБ рддрдкрд╛рдИрдВрдХреЛ рдбрд╛рдЯрд╛ рд░ рдЙрдкрдХрд░рдгрд╣рд░реВрдХреЛ рд╕реБрд░рдХреНрд╖рд╛ рд▓рд╛рдЧрд┐ рдЕрддреНрдпрдиреНрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЫред  
- Microsoft Entra ID рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд░ рдкреНрд░рд╛рдзрд┐рдХрд░рдгрдХрд╛ рд▓рд╛рдЧрд┐ рдмрд▓рд┐рдпреЛ рд░ рд╕реНрдХреЗрд▓реЗрдмрд▓ рд╕рдорд╛рдзрд╛рди рдкреНрд░рджрд╛рди рдЧрд░реНрдЫред  
- рд╕реНрдерд╛рдиреАрдп рдПрдкреНрд▓рд┐рдХреЗрд╕рдирд╣рд░реВрдХрд╛ рд▓рд╛рдЧрд┐ **рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд▓рд╛рдЗрдиреНрдЯ** рд░ рд░рд┐рдореЛрдЯ рд╕рд░реНрднрд░рд╣рд░реВрдХрд╛ рд▓рд╛рдЧрд┐ **рдЧреЛрдкреНрдп рдХреНрд▓рд╛рдЗрдиреНрдЯ** рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреБрд╣реЛрд╕реНред  
- рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╕рдирд╣рд░реВрдХрд╛ рд▓рд╛рдЧрд┐ **Authorization Code Flow** рд╕рдмреИрднрдиреНрджрд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рд╡рд┐рдХрд▓реНрдк рд╣реЛред  


## рдЕрднреНрдпрд╛рд╕

1. рддрдкрд╛рдИрдВрд▓реЗ рдмрдирд╛рдЙрди рд╕рдХреНрдиреЗ MCP рд╕рд░реНрднрд░рдХреЛ рдмрд╛рд░реЗрдорд╛ рд╕реЛрдЪреНрдиреБрд╣реЛрд╕реНред рдХреЗ рддреНрдпреЛ рд╕реНрдерд╛рдиреАрдп рд╕рд░реНрднрд░ рд╣реБрдиреЗрдЫ рд╡рд╛ рд░рд┐рдореЛрдЯ рд╕рд░реНрднрд░?  
2. рддрдкрд╛рдИрдВрдХреЛ рдЙрддреНрддрд░рдХреЛ рдЖрдзрд╛рд░рдорд╛, рдХреЗ рддрдкрд╛рдИрдВ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд▓рд╛рдЗрдиреНрдЯ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреБрд╣реБрдиреНрдЫ рд╡рд╛ рдЧреЛрдкреНрдп рдХреНрд▓рд╛рдЗрдиреНрдЯ?  
3. Microsoft Graph рд╡рд┐рд░реБрджреНрдз рдХрд╛рд░реНрдпрд╣рд░реВ рдЧрд░реНрди рддрдкрд╛рдИрдВрдХреЛ MCP рд╕рд░реНрднрд░рд▓реЗ рдХреБрди рдЕрдиреБрдорддрд┐ рдЕрдиреБрд░реЛрдз рдЧрд░реНрдиреЗрдЫ?  


## рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдЕрднреНрдпрд╛рд╕рд╣рд░реВ

### рдЕрднреНрдпрд╛рд╕ рез: Entra ID рдорд╛ рдПрдкреНрд▓рд┐рдХреЗрд╕рди рджрд░реНрддрд╛ рдЧрд░реНрдиреБрд╣реЛрд╕реН  
Microsoft Entra рдкреЛрд░реНрдЯрд▓рдорд╛ рдЬрд╛рдиреБрд╣реЛрд╕реНред  
рддрдкрд╛рдИрдВрдХреЛ MCP рд╕рд░реНрднрд░рдХрд╛ рд▓рд╛рдЧрд┐ рдирдпрд╛рдБ рдПрдкреНрд▓рд┐рдХреЗрд╕рди рджрд░реНрддрд╛ рдЧрд░реНрдиреБрд╣реЛрд╕реНред  
Application (client) ID рд░ Directory (tenant) ID рд░реЗрдХрд░реНрдб рдЧрд░реНрдиреБрд╣реЛрд╕реНред  

### рдЕрднреНрдпрд╛рд╕ реи: рд╕реНрдерд╛рдиреАрдп MCP рд╕рд░реНрднрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдЧрд░реНрдиреБрд╣реЛрд╕реН (рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд▓рд╛рдЗрдиреНрдЯ)  
- рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдгрдХрд╛ рд▓рд╛рдЧрд┐ MSAL (Microsoft Authentication Library) рдПрдХреАрдХрд░рдг рдЧрд░реНрди рдХреЛрдб рдЙрджрд╛рд╣рд░рдг рдЕрдиреБрд╕рд░рдг рдЧрд░реНрдиреБрд╣реЛрд╕реНред  
- Microsoft Graph рдмрд╛рдЯ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рд╡рд┐рд╡рд░рдг рд▓реНрдпрд╛рдЙрдиреЗ MCP рдЯреБрд▓ рдХрд▓ рдЧрд░реЗрд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рд╡рд╛рд╣ рдкрд░реАрдХреНрд╖рдг рдЧрд░реНрдиреБрд╣реЛрд╕реНред  

### рдЕрднреНрдпрд╛рд╕ рей: рд░рд┐рдореЛрдЯ MCP рд╕рд░реНрднрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдЧрд░реНрдиреБрд╣реЛрд╕реН (рдЧреЛрдкреНрдп рдХреНрд▓рд╛рдЗрдиреНрдЯ)  
- Entra ID рдорд╛ рдЧреЛрдкреНрдп рдХреНрд▓рд╛рдЗрдиреНрдЯ рджрд░реНрддрд╛ рдЧрд░реНрдиреБрд╣реЛрд╕реН рд░ рдХреНрд▓рд╛рдЗрдиреНрдЯ рд╕рд┐рдХреНрд░реЗрдЯ рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрдиреБрд╣реЛрд╕реНред  
- рдЖрдлреНрдиреЛ Express.js MCP рд╕рд░реНрднрд░рд▓рд╛рдИ Authorization Code Flow рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рдХрдиреНрдлрд┐рдЧрд░ рдЧрд░реНрдиреБрд╣реЛрд╕реНред  
- рд╕реБрд░рдХреНрд╖рд┐рдд рдПрдиреНрдбрдкреЛрдЗрдиреНрдЯрд╣рд░реВ рдкрд░реАрдХреНрд╖рдг рдЧрд░реНрдиреБрд╣реЛрд╕реН рд░ рдЯреЛрдХрди-рдЖрдзрд╛рд░рд┐рдд рдкрд╣реБрдБрдЪ рдкреБрд╖реНрдЯрд┐ рдЧрд░реНрдиреБрд╣реЛрд╕реНред  

### рдЕрднреНрдпрд╛рд╕ рек: рд╕реБрд░рдХреНрд╖рд╛ рдЙрддреНрддрдо рдЕрднреНрдпрд╛рд╕рд╣рд░реВ рд▓рд╛рдЧреВ рдЧрд░реНрдиреБрд╣реЛрд╕реН  
- рдЖрдлреНрдиреЛ рд╕реНрдерд╛рдиреАрдп рд╡рд╛ рд░рд┐рдореЛрдЯ рд╕рд░реНрднрд░рдорд╛ HTTPS рд╕рдХреНрд╖рдо рдЧрд░реНрдиреБрд╣реЛрд╕реНред  
- рд╕рд░реНрднрд░рдХреЛ рддрд░реНрдХрдорд╛ рд░реЛрд▓-рдЖрдзрд╛рд░рд┐рдд рдкрд╣реБрдБрдЪ рдирд┐рдпрдиреНрддреНрд░рдг (RBAC) рд▓рд╛рдЧреВ рдЧрд░реНрдиреБрд╣реЛрд╕реНред  
- рдЯреЛрдХрди рдореНрдпрд╛рдж рд╕рдорд╛рдкреНрддрд┐ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдЯреЛрдХрди рднрдгреНрдбрд╛рд░рдг рдердкреНрдиреБрд╣реЛрд╕реНред  


## рд╕реНрд░реЛрддрд╣рд░реВ

1. **MSAL рдЕрд╡рд▓реЛрдХрди рджрд╕реНрддрд╛рд╡реЗрдЬ**  
   Microsoft Authentication Library (MSAL) рд▓реЗ рдХрд╕рд░реА рд╡рд┐рднрд┐рдиреНрди рдкреНрд▓реЗрдЯрдлрд░реНрдорд╣рд░реВрдорд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрддрд┐ рд╕рдХреНрд╖рдо рдЧрд░реНрдЫ рдЬрд╛рдиреНрдиреБрд╣реЛрд╕реН:  
   [MSAL Overview on Microsoft Learn](https://learn.microsoft.com/en-gb/entra/msal/overview)  

2. **Azure-Samples/mcp-auth-servers GitHub рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА**  
   рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рд╡рд╛рд╣рд╣рд░реВ рджреЗрдЦрд╛рдЙрдиреЗ MCP рд╕рд░реНрднрд░рд╣рд░реВрдХреЛ рд╕рдиреНрджрд░реНрдн рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдирд╣рд░реВ:  
   [Azure-Samples/mcp-auth-servers on GitHub](https://github.com/Azure-Samples/mcp-auth-servers)  

3. **Azure рд╕реНрд░реЛрддрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ Managed Identities рдЕрд╡рд▓реЛрдХрди**  
   рдкреНрд░рдгрд╛рд▓реА рд╡рд╛ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛-рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдкреНрд░рдмрдиреНрдзрд┐рдд рдкрд╣рд┐рдЪрд╛рдирд╣рд░реВ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рд╕рд┐рдХреНрд░реЗрдЯрд╣рд░реВ рд╣рдЯрд╛рдЙрдиреЗ рддрд░рд┐рдХрд╛ рдмреБрдЭреНрдиреБрд╣реЛрд╕реН:  
   [Managed Identities Overview on Microsoft Learn](https://learn.microsoft.com/en-us/entra/identity/managed-identities-azure-resources/)  

4. **Azure API Management: MCP рд╕рд░реНрднрд░рд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рддрдкрд╛рдИрдВрдХреЛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЧреЗрдЯрд╡реЗ**  
   MCP рд╕рд░реНрднрд░рд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рд╕реБрд░рдХреНрд╖рд┐рдд OAuth2 рдЧреЗрдЯрд╡реЗрдХреЛ рд░реВрдкрдорд╛ APIM рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдиреЗ рдЧрд╣рд┐рд░реЛ рдЕрдзреНрдпрдпрди:  
   [Azure API Management Your Auth Gateway For MCP Servers](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690)  

5. **Microsoft Graph рдЕрдиреБрдорддрд┐ рд╕рдиреНрджрд░реНрдн**  
   Microsoft Graph рдХрд╛ рд▓рд╛рдЧрд┐ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рд░ рдПрдкреНрд▓рд┐рдХреЗрд╕рди рдЕрдиреБрдорддрд┐ рд╕реВрдЪреА:  
   [Microsoft Graph Permissions Reference](https://learn.microsoft.com/zh-tw/graph/permissions-reference)  


## рд╕рд┐рдХрд╛рдЗ рдирддрд┐рдЬрд╛рд╣рд░реВ  
рдпрд╕ рдЦрдгреНрдб рдкреВрд░рд╛ рдЧрд░реЗрдкрдЫрд┐, рддрдкрд╛рдИрдВ рд╕рдХреНрд╖рдо рд╣реБрдиреБрд╣реБрдиреЗрдЫ:

- MCP рд╕рд░реНрднрд░рд╣рд░реВ рд░ AI рдХрд╛рд░реНрдпрдкреНрд░рд╡рд╛рд╣рд╣рд░реВрдХрд╛ рд▓рд╛рдЧрд┐ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд┐рди рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЫ рд╕реНрдкрд╖реНрдЯ рд░реВрдкрдорд╛ рд╡реНрдпрд╛рдЦреНрдпрд╛ рдЧрд░реНрдиред  
- рд╕реНрдерд╛рдиреАрдп рд░ рд░рд┐рдореЛрдЯ MCP рд╕рд░реНрднрд░ рдкрд░рд┐рджреГрд╢реНрдпрд╣рд░реВрдХрд╛ рд▓рд╛рдЧрд┐ Entra ID рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕реЗрдЯрдЕрдк рд░ рдХрдиреНрдлрд┐рдЧрд░ рдЧрд░реНрдиред  
- рдЖрдлреНрдиреЛ рд╕рд░реНрднрд░рдХреЛ рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдЕрдиреБрд╕рд╛рд░ рдЙрдкрдпреБрдХреНрдд рдХреНрд▓рд╛рдЗрдиреНрдЯ рдкреНрд░рдХрд╛рд░ (рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╡рд╛ рдЧреЛрдкреНрдп) рдЪрдпрди рдЧрд░реНрдиред  
- рд╕реБрд░рдХреНрд╖рд┐рдд рдХреЛрдбрд┐рдЩ рдЕрднреНрдпрд╛рд╕рд╣рд░реВ рд▓рд╛рдЧреВ рдЧрд░реНрди, рдЬрд╕рдорд╛ рдЯреЛрдХрди рднрдгреНрдбрд╛рд░рдг рд░ рд░реЛрд▓-рдЖрдзрд╛рд░рд┐рдд рдкреНрд░рд╛рдзрд┐рдХрд░рдг рд╕рдорд╛рд╡реЗрд╢ рдЫред  
- рдЖрдлреНрдиреЛ MCP рд╕рд░реНрднрд░ рд░ рдЙрдкрдХрд░рдгрд╣рд░реВрд▓рд╛рдИ рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдБрдЪрдмрд╛рдЯ рдЖрддреНрдорд╡рд┐рд╢реНрд╡рд╛рд╕рдкреВрд░реНрд╡рдХ рд╕реБрд░рдХреНрд╖рд╛ рдЧрд░реНрдиред  


## рдХреЗ рдЕрдЧрд╛рдбрд┐ рдЫ  

- [5.13 Model Context Protocol (MCP) Integration with Azure AI Foundry](../mcp-foundry-agent-integration/README.md)

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпреЛ рджрд╕реНрддрд╛рд╡реЗрдЬ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдкреНрд░рдпреЛрдЧ рдЧрд░реА рдЕрдиреБрд╡рд╛рдж рдЧрд░рд┐рдПрдХреЛ рд╣реЛред рд╣рд╛рдореА рд╢реБрджреНрдзрддрд╛рдХрд╛ рд▓рд╛рдЧрд┐ рдкреНрд░рдпрд╛рд╕рд░рдд рдЫреМрдВ рднрдиреЗ рдкрдирд┐, рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджрд┐рдиреБрд╣реЛрд╕реН рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рджрдорд╛ рддреНрд░реБрдЯрд┐ рд╡рд╛ рдЕрд╢реБрджреНрдзрддрд╛ рд╣реБрди рд╕рдХреНрдЫред рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬ рдпрд╕рдХреЛ рдореВрд▓ рднрд╛рд╖рд╛рдорд╛ рдиреИ рдЕрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд┐рдиреБ рдкрд░реНрдЫред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реАрдХрд╛ рд▓рд╛рдЧрд┐ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рд╕рд┐рдлрд╛рд░рд┐рд╕ рдЧрд░рд┐рдиреНрдЫред рдпрд╕ рдЕрдиреБрд╡рд╛рджрдХреЛ рдкреНрд░рдпреЛрдЧрдмрд╛рдЯ рдЙрддреНрдкрдиреНрди рдХреБрдиреИ рдкрдирд┐ рдЧрд▓рддрдлрд╣рдореА рд╡рд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛рдХрд╛ рд▓рд╛рдЧрд┐ рд╣рд╛рдореА рдЬрд┐рдореНрдореЗрд╡рд╛рд░ рдЫреИрдиреМрдВред